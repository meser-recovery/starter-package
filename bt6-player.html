<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>БТ6 — аудиокнига</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #1f3a56;
      color: #f8f8f8;
    }

    .player-wrap {
      max-width: 900px;
      margin: 20px auto 40px;
      padding: 20px;
      background: #264766;
      border-radius: 16px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
    }

    h1 {
      font-size: 22px;
      margin: 0 0 10px;
      text-align: center;
    }

    .now-playing {
      margin: 8px 0 12px;
      font-size: 14px;
      opacity: 0.9;
      text-align: center;
    }

    audio {
      width: 100%;
      margin-bottom: 12px;
    }

    #playlist {
      list-style: none;
      padding: 0;
      margin: 0;
      max-height: 520px;
      overflow-y: auto;
      border-radius: 10px;
      background: #203852;
    }

    #playlist li {
      padding: 6px 10px;
      font-size: 13px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background 0.15s, color 0.15s;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    #playlist li:last-child {
      border-bottom: none;
    }

    #playlist li span.index {
      opacity: 0.7;
      min-width: 34px;
      text-align: right;
      font-variant-numeric: tabular-nums;
    }

    #playlist li span.title {
      flex: 1;
    }

    #playlist li:hover {
      background: #305b82;
    }

    #playlist li.active {
      background: #f1f5f9;
      color: #102437;
      font-weight: 600;
    }

    #playlist li.active span.index {
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="player-wrap">
    <h1>Базовый Текст (Синяя Книга), Издание 6</h1>
    <audio id="audio" controls preload="none"></audio>
    <div class="now-playing" id="nowPlaying"></div>
    <ul id="playlist"></ul>
  </div>

  <script>
    // Папка с файлами
    const BASE_URL = "audio/bt6/";

    // Красивые РУССКИЕ названия — как хочешь видеть в плеере
    const tracks = [
      "БТ6 - 001 НАШ СИМВОЛ",
      "БТ6 - 002 ПРЕДИСЛОВИЕ К ШЕСТОМУ ИЗДАНИЮ",
      "БТ6 - 003 ПРЕДИСЛОВИЕ К ПЕРВОМУ ИЗДАНИЮ",
      "БТ6 - 004 ВВЕДЕНИЕ",
      "БТ6 - 005 НАША ПРОГРАММА АНОНИМНЫЕ НАРКОМАНЫ",
      "БТ6 - 006 Глава 1 КТО ТАКОЙ ЗАВИСИМЫЙ",
      "БТ6 - 007 Глава 2 ЧТО ТАКОЕ ПРОГРАММА АНОНИМНЫЕ НАРКОМАНЫ",
      "БТ6 - 008 Глава 3 ПОЧЕМУ МЫ ЗДЕСЬ",
      "БТ6 - 009 Глава 4 КАК ЭТО РАБОТАЕТ",
      "БТ6 - 010 Шаг Первый",
      "БТ6 - 011 Шаг Второй",
      "БТ6 - 012 Шаг Третий",
      "БТ6 - 013 Шаг Четвертый",
      "БТ6 - 014 Шаг Пятый",
      "БТ6 - 015 Шаг Шестой",
      "БТ6 - 016 Шаг Седьмой",
      "БТ6 - 017 Шаг Восьмой",
      "БТ6 - 018 Шаг Девятый",
      "БТ6 - 019 Шаг Десятый",
      "БТ6 - 020 Шаг Одиннадцатый",
      "БТ6 - 021 Шаг Двенадцатый",
      "БТ6 - 022 Глава 5 ЧТО Я МОГУ СДЕЛАТЬ",
      "БТ6 - 023 Глава 6 ДВЕНАДЦАТЬ ТРАДИЦИЙ АН",
      "БТ6 - 024 Традиция Первая",
      "БТ6 - 025 Традиция Вторая",
      "БТ6 - 026 Традиция Третья",
      "БТ6 - 027 Традиция Четвёртая",
      "БТ6 - 028 Традиция Пятая",
      "БТ6 - 029 Традиция Шестая",
      "БТ6 - 030 Традиция Седьмая",
      "БТ6 - 031 Традиция Восьмая",
      "БТ6 - 032 Традиция Девятая",
      "БТ6 - 033 Традиция Десятая",
      "БТ6 - 034 Традиция Одиннадцатая",
      "БТ6 - 035 Традиция Двенадцатая",
      "БТ6 - 036 Глава 7 ВЫЗДОРОВЛЕНИЕ И СРЫВ",
      "БТ6 - 037 Глава 8 МЫ ДЕЙСТВИТЕЛЬНО ВЫЗДОРАВЛИВАЕМ",
      "БТ6 - 038 Глава 9 ТОЛЬКО СЕГОДНЯ – ЖИТЬ ПРОГРАММОЙ",
      "БТ6 - 039 Глава 10 МНОГОЕ ОТКРОЕТСЯ",
      "БТ6 - 040 ЛИЧНЫЕ ИСТОРИИ",
      "БТ6 - 041 Предисловие",
      "БТ6 - 042 ИСТОКИ",
      "БТ6 - 043 Высказывания",
      "БТ6 - 044 Я нашел единственное в мире собрание АН",
      "БТ6 - 045 Умиротворение посреди Тихого океана",
      "БТ6 - 046 Если у тебя есть желание обрести то, что есть у нас",
      "БТ6 - 047 Мама, жившая в страхе",
      "БТ6 - 048 Тюрьмы, больницы и выздоровление",
      "БТ6 - 049 Я был другим",
      "БТ6 - 050 ДОРОГА ДОМОЙ",
      "БТ6 - 051 Высказывания",
      "БТ6 - 052 Открой группу, они придут",
      "БТ6 - 053 Точка",
      "БТ6 - 054 Нести весть",
      "БТ6 - 055 Юная зависимая взрослеет вместе с сообществом АН",
      "БТ6 - 056 Спокойная радость",
      "БТ6 - 057 Единственное условие",
      "БТ6 - 058 Возвращение достоинства",
      "БТ6 - 059 Второй шанс",
      "БТ6 - 060 Посеять семя",
      "БТ6 - 061 Бутерброд",
      "БТ6 - 062 Дух служения",
      "БТ6 - 063 Бразильское днище!",
      "БТ6 - 064 Шанс на ещё одну жизнь",
      "БТ6 - 065 Достигнув дна",
      "БТ6 - 066 НЕЗАВИСИМО ОТ….",
      "БТ6 - 067 Высказывания",
      "БТ6 - 068 Наконец-то я не одна",
      "БТ6 - 069 Один Третий Шаг для меня и огромный скачок для моего выздоровления",
      "БТ6 - 070 Kia Ora Koutou",
      "БТ6 - 071 Расти вместе с АН",
      "БТ6 - 072 Безмятежное сердце",
      "БТ6 - 073 Главарь банды становится ведущим собрания",
      "БТ6 - 074 Неизлечимо уникальная",
      "БТ6 - 075 Типичная история",
      "БТ6 - 076 Атеисты тоже выздоравливают",
      "БТ6 - 077 Одиночество кончилось",
      "БТ6 - 078 Независимо от возраста",
      "БТ6 - 079 Дипломированный зависимый",
      "БТ6 - 080 Что делает меня счастливой сегодня",
      "БТ6 - 081 К сожалению, он не дожил до момента публикации",
      "БТ6 - 082 ЖИЗНЬ, КАК ОНА ЕСТЬ",
      "БТ6 - 083 Высказывания",
      "БТ6 - 084 Жизнь и смерть в АН",
      "БТ6 - 085 Дыхание жизни",
      "БТ6 - 086 Просто скажи да",
      "БТ6 - 087 Внутренняя работа",
      "БТ6 - 088 И вошел Бог",
      "БТ6 - 089 Одна картофелина",
      "БТ6 - 090 Мозаика",
      "БТ6 - 091 Семейная болезнь, семейное выздоровление",
      "БТ6 - 092 С меня хватит!",
      "БТ6 - 093 Оно того стоит",
      "БТ6 - 094 Обретая целостность",
      "БТ6 - 095 Добрые дела",
      "БТ6 - 096 Сокровища внутри нас",
      "БТ6 - 097 Как же я благодарен за то, что Бог все-таки слышит молитву зависимого",
      "БТ6 - 098 Говоря начистоту",
      "БТ6 - 099 АН – путеводитель по жизни",
      "БТ6 - 100 Найти причины быть благодарным"
    ];

    // Реальные имена файлов — чистый ASCII
    const realFiles = tracks.map((_, index) => {
      const num = String(index + 1).padStart(3, "0");
      return `bt6_${num}.mp3`;
    });

    const audio = document.getElementById("audio");
    const playlistEl = document.getElementById("playlist");
    const nowPlayingEl = document.getElementById("nowPlaying");

    let currentIndex = 0;

    function buildPlaylist() {
      tracks.forEach((title, i) => {
        const li = document.createElement("li");

        const indexSpan = document.createElement("span");
        indexSpan.className = "index";
        indexSpan.textContent = String(i + 1).padStart(3, "0");

        const titleSpan = document.createElement("span");
        titleSpan.className = "title";
        titleSpan.textContent = title;

        li.appendChild(indexSpan);
        li.appendChild(titleSpan);

        li.addEventListener("click", () => loadTrack(i, true));
        playlistEl.appendChild(li);
      });
    }

    function highlightActive() {
      Array.from(playlistEl.children).forEach((li, i) => {
        li.classList.toggle("active", i === currentIndex);
      });
    }

    function loadTrack(index, autoplay = false) {
      if (index < 0 || index >= tracks.length) return;
      currentIndex = index;

      const displayName = tracks[index];
      const realFile = realFiles[index];
      const url = BASE_URL + realFile;

      audio.src = url;
      nowPlayingEl.textContent = "Сейчас играет: " + displayName;

      highlightActive();
      if (autoplay) {
        audio.play().catch(() => {});
      }
    }

    audio.addEventListener("ended", () => {
      if (currentIndex + 1 < tracks.length) {
        loadTrack(currentIndex + 1, true);
      }
    });

    buildPlaylist();
    loadTrack(0, false);
  </script>
</body>
</html>
